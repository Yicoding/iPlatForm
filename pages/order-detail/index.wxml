<van-cell>
  <view slot="title" class="order-line">
    <text>订单打印</text>
    <van-button size="small" type="info" bindtap="goPrint" data-id="{{orderInfo.id}}">去打印</van-button>
  </view>  
</van-cell>
<van-cell wx:if="{{orderInfo.state !== 4}}">
  <view slot="title" class="order-line">
    <text>操作</text>
    <van-button size="small" type="warning" bindtap="goCancel">取消订单</van-button>
  </view>  
</van-cell>
<van-cell>
  <view slot="title" class="order-line">
    <text>订单编号</text>
    <l-tag shape="square" bg-color="orange">{{orderInfo.id}}</l-tag>
  </view>  
</van-cell>
<van-cell>
  <view slot="title" class="order-line">
    <text>订单金额</text>
    <text class="red txt-bg">{{orderInfo.total}}</text>
  </view>
</van-cell>
<van-cell>
  <view slot="title" class="order-line">
    <text>订单状态</text>
    <text class="red">{{orderInfo.state === 1 ? '待付款' : orderInfo.state === 2 ? '待发货' : orderInfo.state === 3 ? '已完成' : '已取消'}}</text>
  </view>
</van-cell>
<van-cell wx:if="{{orderInfo.state !== 3}}">
  <view slot="title" class="order-btn-box">
    <van-button wx:if="{{orderInfo.state === 1}}" type="primary" size="small" bindtap="changeState">确认付款</van-button>
    <van-button wx:if="{{orderInfo.state === 2}}" type="primary" size="small" bindtap="linkShip">去发货</van-button>
  </view>
</van-cell>
<van-cell wx:if="{{orderInfo.customerName}}">
  <view slot="title" class="order-line">
    <text>客户名称</text>
    <text class="red">{{orderInfo.customerName}}</text>
  </view>
</van-cell>
<van-cell wx:if="{{orderInfo.customerPhone}}" title="客户手机号" value="{{orderInfo.customerPhone}}">
  <view slot="title" class="order-line">
    <text>客户手机号</text>
    <text>{{orderInfo.customerPhone}}</text>
  </view>
</van-cell>
<van-cell wx:if="{{orderInfo.customerSite}}" title="客户地址" label="{{orderInfo.customerSite}}" border="{{ false }}">
</van-cell>
<block wx:if="{{orderInfo.state !== 4}}">
  <wux-white-space />
  <van-steps
    steps="{{ steps }}"
    active="{{ active }}"
  />
</block>
<view class="good-box {{isIpx && orderInfo.state !== 4 && 'good-box-iphonex'}}">
  <view class="good-item" wx:for="{{orderList}}" wx:key>
    <image src="{{item.coverImg}}" mode="aspectFill" />
    <view class="good-info">
      <view class="good-name">{{item.name}}</view>
      <view class="good-tip"><text>已选规格：</text>{{item.num}}{{item.unitType === 1 ? item.unitSingle : item.unitAll}}、单价：{{item.sale}}</view>
      <view class="space-info">
        <view class="space-price">
          <text>总价：</text>
          <text>￥</text>
          {{item.total}}
        </view>
      </view>
    </view>
  </view>
  <loadmore
    wx:if="{{orderList.length > 0}}"
    show="{{true}}"
    line
    type="end"
    end-text="我是有底线的"
  />
</view>
<view class="btn-group" wx:if="{{orderInfo.state !== 4}}">
  <view class="btn-left {{ isIpx && orderInfo.state !== 4 && 'btn-group-iphoneX' }}" bindtap="resetOrder">重新下单</view>
  <view class="btn-right {{ isIpx && 'btn-group-iphoneX' }}" bindtap="onceOrder">再来一单</view>
</view>
